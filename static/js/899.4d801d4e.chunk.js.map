{"version":3,"file":"static/js/899.4d801d4e.chunk.js","mappings":"iMAmBe,SAASA,IACtB,MAAM,OAAEC,IAAWC,EAAAA,EAAAA,MAEb,UAAEC,EAAS,KAAEC,EAAI,MAAEC,IAAUC,EAAAA,EAAAA,GAAwB,CACzDC,SAAU,CAAC,QAAQN,GACnBO,QAASA,KAAMC,EAAAA,EAAAA,IAAiBR,KAIlC,OAAIE,GACKO,EAAAA,EAAAA,KAAA,KAAAC,SAAG,qBAGRN,GACKK,EAAAA,EAAAA,KAAA,KAAAC,SAAG,wBAGH,OAAJP,QAAI,IAAJA,GAAAA,EAAMQ,QAKTF,EAAAA,EAAAA,KAAA,OAAAC,UACED,EAAAA,EAAAA,KAACG,EAAAA,EAAc,CACbC,KAAK,OACLC,OAAQ,CACN,CACEC,KAAM,QACNZ,KAAU,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMa,KAAKC,GAAUA,EAAMC,UAGrCC,QAAS,CACPC,MAAO,CACLC,KAAM,QAERC,MAAO,CACLC,OAAQ,IACRC,MAAO,IACPC,QAAS,CACPC,MAAM,GAERC,WAAY,eAEdC,KAAM,CAAEF,MAAM,GACdG,OAAQ,CACNC,MAAO,SACPN,MAAO,GAETO,MAAO,CACLL,MAAM,GAERM,MAAO,CACLC,WAAY,CAAEP,MAAM,GACpBQ,UAAW,CAAER,MAAM,GACnBS,OAAQ,CAAET,MAAM,GAChBb,KAAM,WACNuB,WAAgB,OAAJjC,QAAI,IAAJA,OAAI,EAAJA,EAAMa,KAAKC,GAAUA,EAAMoB,cAEzCC,KAAM,CACJzB,KAAM,WACN0B,SAAU,CAAEC,iBAAkB,CAAC,WAAYC,MAAO,CAAC,EAAG,OAExDC,OAAQ,CAAC,WACTC,QAAS,CACPC,EAAG,CACDC,UAAYC,GAAU,IAAIA,EAAMC,QAAQ,aA/C3CtC,EAAAA,EAAAA,KAAA,KAAAC,SAAG,sBAsDd,C,6DC3FA,MAAMsC,EAAW,iCACXC,EAAuB,4CAEtBC,eAAeC,IACpB,OAAOC,MAAM,GAAGJ,WAAkBK,MAAMC,GAAQA,EAAIC,QACtD,CAEOL,eAAeM,EAAcxD,GAClC,OAAOoD,MAAM,GAAGJ,WAAkBhD,KAAUqD,MAAMC,GAAQA,EAAIC,QAChE,CAEOL,eAAeO,EAAgBzD,GACpC,OAAOoD,MAAM,GAAGJ,aAAoBhD,KAAUqD,MAAMC,GAAQA,EAAIC,QAClE,CAIOL,eAAe1C,EAAiBR,GAErC,OAAOoD,MAAM,GAAGH,YAA+BjD,KAAUqD,MAAMC,GAAQA,EAAIC,QAC7E,C","sources":["pages/Chart.tsx","services/api.ts"],"sourcesContent":["import React from \"react\"\nimport { useParams } from \"react-router-dom\"\nimport { fetchCoinHistory } from \"../services/api\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport ReactApexChart from \"react-apexcharts\";\n\nexport interface IHistorical{\n  time_open: string;\n  time_close: string;\n  open: number;\n  high: number;\n  low: number;\n  close: number;\n  volume: number;\n  market_cap: number;\n}\n\n// Define chart options outside of the component for better readability\n\nexport default function Chart(){\n  const { coinId } = useParams<{ coinId: string }>();\n\n  const { isLoading, data, error } = useQuery<IHistorical[]>({\n    queryKey: [\"ohlck\",coinId], \n    queryFn: () => fetchCoinHistory(coinId),\n    // refetchInterval: 10 * 1000  \n  })\n\n  if (isLoading) {\n    return <p>Loading chart...</p>;\n  }\n\n  if (error) {\n    return <p>Error loading data.</p>;\n  }\n\n  if (!data?.length) {\n    return <p>No data available.</p>;\n  }\n\n  return (\n    <div>\n      <ReactApexChart\n        type=\"line\"\n        series={[\n          { \n            name: \"Price\", \n            data: data?.map((price) => price.close) \n          }\n        ]}\n        options={{\n          theme: {\n            mode: \"dark\",\n          },\n          chart: {\n            height: 300,\n            width: 500,\n            toolbar: {\n              show: false,\n            },\n            background: \"transparent\",\n          },\n          grid: { show: false },\n          stroke: {\n            curve: \"smooth\",\n            width: 4,\n          },\n          yaxis: {\n            show: false,\n          },\n          xaxis: {\n            axisBorder: { show: false },\n            axisTicks: { show: false },\n            labels: { show: false },\n            type: \"datetime\",\n            categories: data?.map((price) => price.time_close),\n          },\n          fill: {\n            type: \"gradient\",\n            gradient: { gradientToColors: [\"#0be881\"], stops: [0, 100] },\n          },\n          colors: [\"#0fbcf9\"],\n          tooltip: {\n            y: {\n              formatter: (value) => `$${value.toFixed(2)}`,\n            },\n          },\n        }}\n      />\n    </div>\n  );\n}","const BASE_URL = `https://api.coinpaprika.com/v1`\nconst BASE_URL_nomadcoders = `https://ohlcv-api.nomadcoders.workers.dev`\n\nexport async function fetchCoins() {\n  return fetch(`${BASE_URL}/coins`).then((res) => res.json())\n}\n\nexport async function fetchCoinInfo(coinId?: string) {\n  return fetch(`${BASE_URL}/coins/${coinId}`).then((res) => res.json())\n}\n\nexport async function fetchTickerInfo(coinId?: string) {\n  return fetch(`${BASE_URL}/tickers/${coinId}`).then((res) => res.json())\n}\n\n// https://ohlcv-api.nomadcoders.workers.dev?coinId=btc-bitcoin\n\nexport async function fetchCoinHistory(coinId?: string) {\n\n  return fetch(`${BASE_URL_nomadcoders}?coinId=${coinId}`).then((res) => res.json())\n}"],"names":["Chart","coinId","useParams","isLoading","data","error","useQuery","queryKey","queryFn","fetchCoinHistory","_jsx","children","length","ReactApexChart","type","series","name","map","price","close","options","theme","mode","chart","height","width","toolbar","show","background","grid","stroke","curve","yaxis","xaxis","axisBorder","axisTicks","labels","categories","time_close","fill","gradient","gradientToColors","stops","colors","tooltip","y","formatter","value","toFixed","BASE_URL","BASE_URL_nomadcoders","async","fetchCoins","fetch","then","res","json","fetchCoinInfo","fetchTickerInfo"],"sourceRoot":""}