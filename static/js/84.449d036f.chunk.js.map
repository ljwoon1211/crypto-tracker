{"version":3,"file":"static/js/84.449d036f.chunk.js","mappings":"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","sources":["pages/Coin.tsx","services/api.ts"],"sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport { Outlet, Route, Routes, useMatch } from \"react-router-dom\";\nimport { useLocation, useParams } from \"react-router-dom\"\nimport styled from \"styled-components\";\nimport Price from \"./Price\";\nimport Chart from \"./Chart\";\nimport { Link } from \"react-router-dom\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { fetchCoinInfo, fetchTickerInfo } from \"../services/api\";\nimport {Helmet} from \"react-helmet\"\nconst Container =styled.div`\n    padding: 0px 20px;\n    max-width: 480px;\n    margin: 0 auto;\n`;\n\nconst Header = styled.header`\n  height: 10vh;\n  display: grid;\n  grid-template-columns: 1fr 3fr 1fr;\n  align-items: center;\n  a{\n    background-color: rgba(0, 0, 0, 0.5);\n    border-radius: 20px;\n    color:${props=>props.theme.textColor};\n    padding: 5px;\n    width: max-content;\n  }\n`;\n\nconst Title =  styled.h1`\n  text-align: center;\n\n  font-size: 48px;\n  color:${props=>props.theme.accentColor};\n`;\n\nconst Loader = styled.span`\n  text-align: center;\n  display: block;\n`\n\ninterface InfoData {\n  id: string;\n  name: string;\n  symbol: string;\n  rank: number;\n  is_new: boolean;\n  is_active: boolean;\n  type: string;\n  description: string;\n  message: string;\n  open_source: boolean;\n  started_at: string;\n  development_status: string;\n  hardware_wallet: boolean;\n  proof_type: string;\n  org_structure: string;\n  hash_algorithm: string;\n  first_data_at: string;\n  last_data_at: string;\n}\n\ninterface PriceData {\n  id: string;\n  name: string;\n  symbol: string;\n  rank: number;\n  circulating_supply: number;\n  total_supply: number;\n  max_supply: number;\n  beta_value: number;\n  first_data_at: string;\n  last_updated: string;\n  quotes: {\n    USD: {\n      ath_date: string;\n      ath_price: number;\n      market_cap: number;\n      market_cap_change_24h: number;\n      percent_change_1h: number;\n      percent_change_1y: number;\n      percent_change_6h: number;\n      percent_change_7d: number;\n      percent_change_12h: number;\n      percent_change_15m: number;\n      percent_change_24h: number;\n      percent_change_30d: number;\n      percent_change_30m: number;\n      percent_from_price_ath: number;\n      price: number;\n      volume_24h: number;\n      volume_24h_change_24h: number;\n    };\n  };\n}\nconst Overview = styled.div`\n  display: flex;\n  justify-content: space-between;\n  background-color: rgba(0, 0, 0, 0.5);\n  padding: 10px 20px;\n  border-radius: 10px;\n`;\nconst OverviewItem = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  span:first-child {\n    font-size: 10px;\n    font-weight: 400;\n    text-transform: uppercase;\n    margin-bottom: 5px;\n  }\n`;\nconst Description = styled.p`\n  margin: 20px 0px;\n`;\nconst Tabs = styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  margin: 25px 0px;\n  gap: 10px;\n`;\n\nconst Tab = styled.span<{ isActive: boolean }>`\n  text-align: center;\n  text-transform: uppercase;\n  font-size: 12px;\n  font-weight: 400;\n  background-color: rgba(0, 0, 0, 0.5);\n  padding: 7px 0px;\n  border-radius: 10px;\n  color: ${(props) =>\n    props.isActive ? props.theme.accentColor : props.theme.textColor};\n  a {\n    display: block;\n  }\n`;\n\n\nexport default function Coin(){\n  const {coinId} = useParams()\n    // react-route-dom으로 상태 보내기\n  const {state} = useLocation();\n\n  const priceMatch = useMatch(`btc/${coinId}/price`);\n  const chartMatch = useMatch(`btc/${coinId}/chart`);\n\n  console.log(\"Chart Match:\", chartMatch);  // 이 로그를 통해 실제 반환값 확인\n  console.log(\"Price Match:\", priceMatch);\n  const { isLoading:infoLoading, data:infoData } = useQuery<InfoData>({\n    queryKey: [\"info\",coinId], \n    queryFn: () => fetchCoinInfo(coinId),\n    // refetchInterval: 5 * 1000  \n  })\n\n  const { isLoading:tickersLoading, data:tickersData } = useQuery<PriceData>({\n    queryKey: [\"tickers\",coinId], \n    queryFn: () => fetchTickerInfo(coinId) \n  })\n\n  const loading = infoLoading || tickersLoading;\n\n  if(!coinId){\n    return (<p>코인 아이디가 없습니다.</p>)\n  }\n\n  \n  return  (\n  <Container>\n    <Helmet>\n      <Title>\n        {state?.name ? state.name : loading ? \"Loading...\" : infoData?.name}\n      </Title>    \n    </Helmet>\n    <Header>\n      <Link to=\"/\">Home</Link>\n      <Title>\n        {/* {coinId} */}\n        {state?.name ? state.name : loading ? \"Loading...\" : infoData?.name}\n\n      </Title>    \n    </Header>\n    {loading ? (\n        <Loader>Loading...</Loader>\n      ) : (\n        <>\n          <Overview>\n            <OverviewItem>\n              <span>Rank:</span>\n              <span>{infoData?.rank}</span>\n            </OverviewItem>\n            <OverviewItem>\n              <span>Symbol:</span>\n              <span>${infoData?.symbol}</span>\n            </OverviewItem>\n            <OverviewItem>\n            <span>Price:</span>\n            <span>${tickersData?.quotes.USD.price.toFixed(3)}</span>\n            </OverviewItem>\n          </Overview>\n          <Description>{infoData?.description}</Description>\n          <Overview>\n            <OverviewItem>\n              <span>Total Supply:</span>\n              <span>{tickersData?.total_supply}</span>\n            </OverviewItem>\n            <OverviewItem>\n              <span>Max Supply:</span>\n              <span>{tickersData?.max_supply}</span>\n            </OverviewItem>\n          </Overview>\n          <Tabs>\n            <Tab isActive={chartMatch !== null}>\n              <Link to=\"chart\">\n                  Chart\n              </Link>\n            </Tab>\n            <Tab isActive={priceMatch !== null}>\n              <Link to=\"price\">\n                  Price\n              </Link>\n            </Tab>\n          </Tabs>\n\n          <Outlet/>\n        </>\n      )}\n    </Container>\n  )\n}","const BASE_URL = `https://api.coinpaprika.com/v1`\nconst BASE_URL_nomadcoders = `https://ohlcv-api.nomadcoders.workers.dev`\n\nexport async function fetchCoins() {\n  return fetch(`${BASE_URL}/coins`).then((res) => res.json())\n}\n\nexport async function fetchCoinInfo(coinId?: string) {\n  return fetch(`${BASE_URL}/coins/${coinId}`).then((res) => res.json())\n}\n\nexport async function fetchTickerInfo(coinId?: string) {\n  return fetch(`${BASE_URL}/tickers/${coinId}`).then((res) => res.json())\n}\n\n// https://ohlcv-api.nomadcoders.workers.dev?coinId=btc-bitcoin\n\nexport async function fetchCoinHistory(coinId?: string) {\n\n  return fetch(`${BASE_URL_nomadcoders}?coinId=${coinId}`).then((res) => res.json())\n}"],"names":["Container","styled","div","Header","header","props","theme","textColor","Title","h1","accentColor","Loader","span","Overview","OverviewItem","Description","p","Tabs","Tab","isActive","Coin","coinId","useParams","state","useLocation","priceMatch","useMatch","chartMatch","console","log","isLoading","infoLoading","data","infoData","useQuery","queryKey","queryFn","fetchCoinInfo","tickersLoading","tickersData","fetchTickerInfo","loading","_jsxs","children","_jsx","Helmet","name","Link","to","_Fragment","rank","symbol","quotes","USD","price","toFixed","description","total_supply","max_supply","Outlet","BASE_URL","BASE_URL_nomadcoders","async","fetchCoins","fetch","then","res","json","fetchCoinHistory"],"sourceRoot":""}